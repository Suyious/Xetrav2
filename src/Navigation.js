import React, { useState } from "react";
import Sidebar from "./Sidebar";
import Cart from "./CartDb"

function Navigation() {

  const [NavOpen, setNavOpen] = useState(false);
  const [CartOpen, setCartOpen] = useState(false);

  const NavHandle = () =>{
    setNavOpen(!NavOpen);
    setCartOpen(false);
  }

  const CartHandle = () =>{
    setCartOpen(!CartOpen);
    setNavOpen(false);
  }

  function CardList({icon, title, timestamp, stock}){
    return(
      <li>
        {icon}
        <div className="cart_List_text">
          <h3>{title}</h3>
          <div className="cart_List_subtext">
            <p>{timestamp}</p>
            {stock?<p>In Stock</p>:<p>Out of Stock</p>}
          </div>
        </div>
      </li>
    )
  }

  return (
    <nav className="Navigation">
      <div className="Leftbar">
        <Sidebar className="Leftbar" Open={NavOpen} setOpen={setNavOpen}>
          <ul className="menu_List">
            <li>
              <svg width="18" height="24" viewBox="0 0 18 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.125 1.11773C10.125 0.00210992 8.68828 -0.418359 8.05547 0.506485C2.25 8.99227 10.5 9.3743 10.5 13.4993C10.5 15.1695 9.13547 16.5209 7.46016 16.4988C5.81156 16.4777 4.5 15.1034 4.5 13.4548V9.44648C4.5 8.4293 3.25922 7.9357 2.55797 8.67305C1.30312 9.99117 0 12.2491 0 14.9993C0 19.962 4.03734 23.9993 9 23.9993C13.9627 23.9993 18 19.962 18 14.9993C18 7.01695 10.125 5.95242 10.125 1.11773Z" fill="white"/></svg>
              <h3>Trending</h3>
            </li>
            <li>
              <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.3125 0H16.7865C16.1734 0 15.8698 0.739063 16.2995 1.17448L17.2677 2.14271L12.6443 6.76615C11.3724 5.96406 9.86563 5.5 8.25 5.5C3.69531 5.5 0 9.19531 0 13.75C0 18.3047 3.69531 22 8.25 22C12.8047 22 16.5 18.3047 16.5 13.75C16.5 12.1344 16.0359 10.6276 15.2339 9.35573L19.8573 4.73229L20.8255 5.70052C21.2609 6.13594 22 5.82656 22 5.21354V0.6875C22 0.309375 21.6906 0 21.3125 0ZM8.25 18.3333C5.72344 18.3333 3.66667 16.2766 3.66667 13.75C3.66667 11.2234 5.72344 9.16667 8.25 9.16667C10.7766 9.16667 12.8333 11.2234 12.8333 13.75C12.8333 16.2766 10.7766 18.3333 8.25 18.3333Z" fill="white"/></svg>
              <h3>Men's Fashion</h3>
            </li>
            <li>
              <svg width="15" height="24" viewBox="0 0 15 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 7.71429C15 3.45536 11.6406 0 7.5 0C3.35938 0 0 3.45536 0 7.71429C0 11.3839 2.49479 14.4589 5.83333 15.2357V18H3.95833C3.61458 18 3.33333 18.2893 3.33333 18.6429V20.7857C3.33333 21.1393 3.61458 21.4286 3.95833 21.4286H5.83333V23.3571C5.83333 23.7107 6.11458 24 6.45833 24H8.54167C8.88542 24 9.16667 23.7107 9.16667 23.3571V21.4286H11.0417C11.3854 21.4286 11.6667 21.1393 11.6667 20.7857V18.6429C11.6667 18.2893 11.3854 18 11.0417 18H9.16667V15.2357C12.5052 14.4589 15 11.3839 15 7.71429ZM3.33333 7.71429C3.33333 5.35179 5.20312 3.42857 7.5 3.42857C9.79688 3.42857 11.6667 5.35179 11.6667 7.71429C11.6667 10.0768 9.79688 12 7.5 12C5.20312 12 3.33333 10.0768 3.33333 7.71429Z" fill="white"/></svg>
              <h3>Women's Fashion</h3>
            </li>
            <li>
              <svg width="18" height="25" viewBox="0 0 18 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.99935 7.8125C11.0715 7.8125 12.7498 6.06445 12.7498 3.90625C12.7498 1.74805 11.0715 0 8.99935 0C6.92724 0 5.24893 1.74805 5.24893 3.90625C5.24893 6.06445 6.92724 7.8125 8.99935 7.8125ZM6.49594 19.9609L7.69608 18.3984L4.81294 15.8984L2.66113 18.7012C2.1267 19.3945 2.11263 20.3809 2.62363 21.0938L4.87389 24.2188C5.24424 24.7314 5.8068 25 6.37406 25C6.76316 25 7.16165 24.873 7.49918 24.6094C8.32897 23.9648 8.49305 22.7393 7.87423 21.875L6.49594 19.9609ZM13.1858 15.8984L10.3026 18.3984L11.5028 19.9609L10.1245 21.875C9.50566 22.7393 9.66974 23.9648 10.4995 24.6094C10.8371 24.873 11.2309 25 11.6247 25C12.1966 25 12.7592 24.7314 13.1248 24.2188L15.3751 21.0938C15.8861 20.3809 15.872 19.3945 15.3376 18.7012L13.1858 15.8984ZM17.6581 7.08008C17.0628 6.19629 15.8954 5.98633 15.0469 6.60156L13.1436 7.99316C10.673 9.7998 7.32104 9.7998 4.85513 7.99316L2.95179 6.60645C2.10326 5.98633 0.935938 6.20117 0.340558 7.08008C-0.254822 7.96387 -0.0485484 9.17969 0.795297 9.7998L2.69864 11.1914C3.4956 11.7725 4.3582 12.2119 5.24893 12.5537V14.0625H12.7498V12.5586C13.6405 12.2168 14.5031 11.7773 15.3001 11.1963L17.2034 9.80469C18.0519 9.17969 18.2535 7.96387 17.6581 7.08008Z" fill="white"/></svg>
              <h3>Kid's Fashion</h3>
            </li>
          </ul>
          <ul className="menu_bottom_List">
            
          </ul>
        </Sidebar>

      </div>
      <div className="Nav navwidth">

        <div className="Left">
          <div onClick={NavHandle} className={`hamburger ${NavOpen && "fill-white"}`}>
            <div className="rectangle top"></div>
            <div className="rectangle middle"></div>
            <div className="rectangle bottom"></div>
          </div>
          <div className={`Logo ${NavOpen && "fill-white"}`}>
            <h1><span className="Red">X</span>etra</h1>
          </div>
        </div>
        
        <div className="Trending">
          <div className="icon">
            <svg width="28" height="38" viewBox="0 0 28 38" fill="none" xmlns="http://www.w3.org/2000/svg"><g clipPath="url(#clip0)"><path d="M15.75 1.77027C15.75 0.0038595 13.5151 -0.661883 12.5307 0.802453C3.5 14.2383 16.3333 14.8432 16.3333 21.3744C16.3333 24.0188 14.2107 26.1585 11.6047 26.1237C9.04021 26.0903 7 23.9142 7 21.3039V14.9575C7 13.3469 5.0699 12.5654 3.97906 13.7328C2.02708 15.8199 0 19.395 0 23.7494C0 31.6069 6.28031 37.9994 14 37.9994C21.7197 37.9994 28 31.6069 28 23.7494C28 11.1107 15.75 9.42519 15.75 1.77027Z" fill="black"/></g><defs><clipPath id="clip0"><rect width="28" height="38" fill="white"/></clipPath></defs></svg>
          </div>
          <h1>Trending</h1>
        </div>

        <div className="Right">
          <div onClick={CartHandle} className={`Cart ${CartOpen && "fill-white"}`}>
            <h1>Cart</h1>
            <div className="Cart_svg">
              <svg width="53" height="53" viewBox="0 0 53 53" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.4584 39.75C13.0292 39.75 11.0638 41.7375 11.0638 44.1667C11.0638 46.5958 13.0292 48.5833 15.4584 48.5833C17.8875 48.5833 19.875 46.5958 19.875 44.1667C19.875 41.7375 17.8875 39.75 15.4584 39.75ZM4.41671 4.41666C3.19708 4.41666 2.20837 5.40536 2.20837 6.62499C2.20837 7.84462 3.19708 8.83332 4.41671 8.83332H4.91388C5.95891 8.83332 6.91051 9.43518 7.35835 10.3794L11.9277 20.0132C13.59 23.5177 13.4657 27.6078 11.5938 31.005C11.2405 31.6233 11.0417 32.3521 11.0417 33.125C11.0417 35.5542 13.0292 37.5417 15.4584 37.5417H39.75C40.9697 37.5417 41.9584 36.553 41.9584 35.3333C41.9584 34.1137 40.9697 33.125 39.75 33.125H16.3859C16.1221 33.125 15.9066 32.9482 15.849 32.7044C15.8287 32.6187 15.8446 32.5297 15.866 32.4443C15.8886 32.3537 15.9229 32.2665 15.968 32.1849L16.2599 31.6561C17.2641 29.8375 19.1774 28.7083 21.2548 28.7083H34.3396C35.9959 28.7083 37.4534 27.8029 38.2042 26.4337L46.11 12.1017C46.2867 11.7925 46.375 11.4171 46.375 11.0417C46.375 9.82707 45.3813 8.83332 44.1667 8.83332H13.9455C12.4562 8.83332 11.101 7.97284 10.4675 6.62499C9.83405 5.27714 8.47884 4.41666 6.98954 4.41666H4.41671ZM37.5417 39.75C35.1125 39.75 33.1471 41.7375 33.1471 44.1667C33.1471 46.5958 35.1125 48.5833 37.5417 48.5833C39.9709 48.5833 41.9584 46.5958 41.9584 44.1667C41.9584 41.7375 39.9709 39.75 37.5417 39.75Z" fill="black"/></svg>
            </div>
          </div>
        </div>
      </div>

      <div className="Rightbar">
        <Sidebar Open={CartOpen} setOpen={setCartOpen}>
          <div className="topbar">
            <div onClick={CartHandle} className="Cart_svg">
              <svg width="53" height="53" viewBox="0 0 53 53" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.4584 39.75C13.0292 39.75 11.0638 41.7375 11.0638 44.1667C11.0638 46.5958 13.0292 48.5833 15.4584 48.5833C17.8875 48.5833 19.875 46.5958 19.875 44.1667C19.875 41.7375 17.8875 39.75 15.4584 39.75ZM4.41671 4.41666C3.19708 4.41666 2.20837 5.40536 2.20837 6.62499C2.20837 7.84462 3.19708 8.83332 4.41671 8.83332H4.91388C5.95891 8.83332 6.91051 9.43518 7.35835 10.3794L11.9277 20.0132C13.59 23.5177 13.4657 27.6078 11.5938 31.005C11.2405 31.6233 11.0417 32.3521 11.0417 33.125C11.0417 35.5542 13.0292 37.5417 15.4584 37.5417H39.75C40.9697 37.5417 41.9584 36.553 41.9584 35.3333C41.9584 34.1137 40.9697 33.125 39.75 33.125H16.3859C16.1221 33.125 15.9066 32.9482 15.849 32.7044C15.8287 32.6187 15.8446 32.5297 15.866 32.4443C15.8886 32.3537 15.9229 32.2665 15.968 32.1849L16.2599 31.6561C17.2641 29.8375 19.1774 28.7083 21.2548 28.7083H34.3396C35.9959 28.7083 37.4534 27.8029 38.2042 26.4337L46.11 12.1017C46.2867 11.7925 46.375 11.4171 46.375 11.0417C46.375 9.82707 45.3813 8.83332 44.1667 8.83332H13.9455C12.4562 8.83332 11.101 7.97284 10.4675 6.62499C9.83405 5.27714 8.47884 4.41666 6.98954 4.41666H4.41671ZM37.5417 39.75C35.1125 39.75 33.1471 41.7375 33.1471 44.1667C33.1471 46.5958 35.1125 48.5833 37.5417 48.5833C39.9709 48.5833 41.9584 46.5958 41.9584 44.1667C41.9584 41.7375 39.9709 39.75 37.5417 39.75Z" fill="black"/></svg>
            </div>
          </div>
          <ul className="cart_List">
            {Cart.length>0 ? Cart.map(item=>(
              <CardList {...item}/>
            )):
            <div className="cart_empty">
              <p>Your Cart is empty</p>
            </div>
            }
          </ul>
        </Sidebar>
      </div>
    </nav>
  );
}

export default Navigation;
